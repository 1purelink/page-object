<htmL>
<head>
  <title>Dojo - Sample App</title>
  <script type="application/x-javascript" src="/dojo.js"></script>
</head>
<body>
  <div id="ajax-demo">
    <h2>AJAX Calculator</h2>
    <form id="calculator-form" action="#" method="post" onSubmit="return false;">
      <input id="calculator-expression" name="calculator-expression"/>
      <input type="submit" id="calculator-button" value="Compute" />
      <br/><br/>
      <div>Result: <input id="calculator-result" disabled /></div>
    </form>

    <script type="text/javascript" language="javascript">  
    require(["dojo/on", "dojo/_base/xhr", "dojo/dom", "dojo/domReady!"], function(on, xhr, dom) {
          var calcButton = dom.byId("calculator-button");
          on(calcButton, "click", function(event) {
              xhr.post({
                  url: "/compute",
                  form: dom.byId("calculator-form"),
                  load: function(response) {
                      dom.byId('calculator-result').value = response.responseText;
                  }
              });
          });
      });
      
    </script>
  </div>

</body>
